{"version":3,"file":"player-DlWGw8c-.js","sources":["../../../public/assets/js/notifyAdmin.js","../../../public/assets/js/adminDashboard.js"],"sourcesContent":["require('dotenv').config(); // üëà loads your .env file\n\nimport { initializeApp } from 'https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js';\nimport {\n  getFirestore,\n  collection,\n  addDoc,\n  serverTimestamp,\n} from 'https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyD4XJLc3_CLGvOhMysQTx2fabgZQt3y5g0',\n  authDomain: 'ball-network-web.firebaseapp.com',\n  projectId: 'ball-network-web',\n  storageBucket: 'ball-network-web.appspot.com',\n  messagingSenderId: '740915998465',\n  appId: '1:740915998465:web:59ac026f3f4c2ec5da3500',\n};\n\nconst app = initializeApp(firebaseConfig);\nconst db = getFirestore(app);\n\nexport async function notifyAdmin(message, type = 'admin') {\n  try {\n    await addDoc(collection(db, 'adminNotifications'), {\n      message,\n      type,\n      createdAt: serverTimestamp(),\n    });\n    console.log(`üîî Notification: ${message}`);\n  } catch (err) {\n    console.error('‚ùå Notification error:', err);\n  }\n}\n","require('dotenv').config(); // üëà loads your .env file\n\nimport { initializeApp } from 'https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js';\nimport {\n  getFirestore,\n  collection,\n  getDocs,\n  updateDoc,\n  doc,\n  deleteDoc,\n  setDoc,\n} from 'https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js';\nimport { notifyAdmin } from './notifyAdmin.js';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyD4XJLc3_CLGvOhMysQTx2fabgZQt3y5g0',\n  authDomain: 'ball-network-web.firebaseapp.com',\n  projectId: 'ball-network-web',\n  storageBucket: 'ball-network-web.appspot.com',\n  messagingSenderId: '740915998465',\n  appId: '1:740915998465:web:59ac026f3f4c2ec5da3500',\n};\n\nconst app = initializeApp(firebaseConfig);\nconst db = getFirestore(app);\n\nloadUsers();\nloadGames();\nloadRequests();\nloadAdmins();\nloadAdminNotifications();\n\nasync function loadUsers() {\n  const collections = ['players', 'coaches', 'scouts', 'fans'];\n  const userList = document.getElementById('userList');\n  userList.innerHTML = '';\n  for (const role of collections) {\n    const snap = await getDocs(collection(db, role));\n    snap.forEach(docSnap => {\n      const user = docSnap.data();\n      const div = document.createElement('div');\n      div.classList.add('admin-user');\n      div.innerHTML = `\n        <strong>${user.name || 'Unnamed'}</strong> ‚Äî ${role}\n        ${role === 'scouts' ? `<button onclick=\"verifyScout('${role}','${docSnap.id}')\">${user.verified ? '‚úÖ Verified' : 'Verify Now'}</button>` : ''}\n        ${user.approved === false ? `<button onclick=\"approveUser('${role}','${docSnap.id}')\">Approve ‚úÖ</button>` : ''}\n      `;\n      userList.appendChild(div);\n    });\n  }\n}\n\nasync function verifyScout(role, id) {\n  const ref = doc(db, role, id);\n  await updateDoc(ref, { verified: true });\n  await notifyAdmin(`‚úÖ Verified Scout ${id}`, 'scout');\n  alert('‚úÖ Scout verified!');\n  loadUsers();\n}\n\nasync function approveUser(role, id) {\n  const ref = doc(db, role, id);\n  await updateDoc(ref, { approved: true });\n  await notifyAdmin(`‚úÖ Approved ${role} ${id}`, 'approval');\n  alert('‚úÖ User approved!');\n  loadUsers();\n}\n\nasync function loadGames() {\n  const snap = await getDocs(collection(db, 'games'));\n  const list = document.getElementById('gameList');\n  list.innerHTML = '';\n  snap.forEach(docSnap => {\n    const game = docSnap.data();\n    const div = document.createElement('div');\n    div.innerHTML = `<strong>${game.teamName} vs ${game.opponent}</strong> ‚Äî ${game.date} <br> Status: ${game.analysisStatus}`;\n    list.appendChild(div);\n  });\n}\n\nasync function loadRequests() {\n  const snap = await getDocs(collection(db, 'contactRequests'));\n  const list = document.getElementById('requestList');\n  list.innerHTML = '';\n  snap.forEach(docSnap => {\n    const r = docSnap.data();\n    const li = document.createElement('li');\n    li.textContent = `Scout ${r.scoutId} requested contact for Player ${r.playerId} (Coach: ${r.coachId})`;\n    list.appendChild(li);\n  });\n}\n\nasync function loadAdmins() {\n  const list = document.getElementById('adminList');\n  list.innerHTML = '';\n  const snap = await getDocs(collection(db, 'admins'));\n  snap.forEach(docSnap => {\n    const admin = docSnap.data();\n    const div = document.createElement('div');\n    div.innerHTML = `‚úÖ <strong>${admin.name || docSnap.id}</strong> <button onclick=\"removeAdmin('${docSnap.id}')\">Remove ‚ùå</button>`;\n    list.appendChild(div);\n  });\n}\n\nwindow.addAdmin = async function () {\n  const uid = document.getElementById('newAdminUid').value.trim();\n  const name = document.getElementById('newAdminName').value.trim();\n  if (!uid || !name) return alert('Fill in both fields.');\n  await setDoc(doc(db, 'admins', uid), { name });\n  await notifyAdmin(`‚ûï Added new admin: ${name}`, 'admin');\n  alert('‚úÖ New admin added!');\n  loadAdmins();\n};\n\nwindow.removeAdmin = async function (uid) {\n  await deleteDoc(doc(db, 'admins', uid));\n  await notifyAdmin(`‚ùå Removed admin ${uid}`, 'admin');\n  alert('‚ùå Admin removed.');\n  loadAdmins();\n};\n\nasync function loadAdminNotifications() {\n  const snap = await getDocs(collection(db, 'adminNotifications'));\n  const div =\n    document.getElementById('adminActivity') || document.createElement('div');\n  div.id = 'adminActivity';\n  div.innerHTML = `<h3>üîî Admin Activity Log</h3>`;\n\n  const entries = [];\n  snap.forEach(docSnap => {\n    const d = docSnap.data();\n    const time = d.createdAt?.toDate().toLocaleString() || '(no date)';\n    entries.push(`<div>[${time}] ${d.message}</div>`);\n  });\n\n  entries.sort().reverse();\n  div.innerHTML += entries.join('');\n  document.body.appendChild(div);\n}\n"],"names":["firebaseConfig","app","initializeApp","db","getFirestore","notifyAdmin","message","type","addDoc","collection","serverTimestamp","err","loadUsers","loadGames","loadRequests","loadAdmins","loadAdminNotifications","collections","userList","role","getDocs","docSnap","user","div","snap","list","game","r","li","admin","uid","name","setDoc","doc","deleteDoc","entries","d","time"],"mappings":"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"}