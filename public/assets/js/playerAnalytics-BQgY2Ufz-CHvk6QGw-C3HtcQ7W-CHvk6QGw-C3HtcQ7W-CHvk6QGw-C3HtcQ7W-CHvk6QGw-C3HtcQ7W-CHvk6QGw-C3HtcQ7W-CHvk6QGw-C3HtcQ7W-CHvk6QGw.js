class g{constructor(){this.performanceData=[],this.insights=[],this.comparisons={},this.trends={}}trackPerformance(t){const e={gameId:t.id,date:t.date,opponent:t.opponent,minutes:t.minutes,stats:t.stats,situational:this.analyzeSituationalPerformance(t),efficiency:this.calculateAdvancedEfficiency(t.stats),impact:this.calculateGameImpact(t),timestamp:new Date().toISOString()};return this.performanceData.push(e),this.generateInsights(e),e}generateInsights(t){const e=[];if(t.stats.fga>=8){const s=t.stats.fgm/t.stats.fga*100;s<35&&e.push({type:"shooting",severity:"warning",message:`Shot selection needs improvement - ${s.toFixed(1)}% FG on ${t.stats.fga} attempts`,recommendation:"Focus on high-percentage shots near the basket and open looks"})}const a=t.stats.turnovers/(t.stats.assists+t.stats.points/2)*100;return a>20&&e.push({type:"ballhandling",severity:"alert",message:`High turnover rate: ${a.toFixed(1)}%`,recommendation:"Work on ball security drills and decision-making under pressure"}),t.situational.fourthQuarter&&t.situational.closeGame&&e.push({type:"clutch",severity:"info",message:"Strong clutch performance in close game",recommendation:"Continue developing late-game composure and leadership"}),this.insights.push(...e),e}calculateAdvancedEfficiency(t){const e=t.fga+t.fta*.44+t.turnovers,a=t.points;return{effectiveFG:t.fga>0?(t.fgm+t.threePM*.5)/t.fga*100:0,trueShootingPct:e>0?a/(2*e)*100:0,assistToTurnoverRatio:t.turnovers>0?t.assists/t.turnovers:t.assists,reboundRate:t.rebounds*5/40*100,usageRate:e>0?e/80*100:0}}analyzeSituationalPerformance(t){return{fourthQuarter:t.situational?.fourthQuarter||!1,closeGame:t.situational?.closeGame||!1,pressure:t.situational?.pressure||"normal",location:t.situational?.location||"home",restDays:t.situational?.restDays||1}}calculateGameImpact(t){const e=t.stats,a=t.minutes,s=e.points*1+e.rebounds*1.2+e.assists*1.5+e.steals*2+e.blocks*2-e.turnovers*1.5-e.fouls*.5,n=a>0?s/a:0,r=n*36;return{raw:s,perMinute:n,per36:r,rating:this.getImpactRating(r)}}getImpactRating(t){return t>=25?"Elite":t>=20?"Excellent":t>=15?"Good":t>=10?"Average":"Below Average"}analyzeTrends(t=10){const e=this.performanceData.slice(-t);if(e.length<3)return null;const a={},s=this.calculateTrend(e.map(r=>r.stats.fga>0?r.stats.fgm/r.stats.fga*100:0));a.shooting={direction:s>5?"improving":s<-5?"declining":"stable",value:s,message:this.getTrendMessage("shooting",s)};const n=this.calculateTrend(e.map(r=>r.impact.per36));return a.impact={direction:n>2?"improving":n<-2?"declining":"stable",value:n,message:this.getTrendMessage("impact",n)},a}calculateTrend(t){if(t.length<2)return 0;const e=t.length,a=Array.from({length:e},(o,i)=>i),s=a.reduce((o,i)=>o+i,0),n=t.reduce((o,i)=>o+i,0),r=a.reduce((o,i,l)=>o+i*t[l],0),c=a.reduce((o,i)=>o+i*i,0);return(e*r-s*n)/(e*c-s*s)}getTrendMessage(t,e){const a=e>0?"improving":"declining",s=Math.abs(e);return t==="shooting"?s>10?`Shooting ${a} significantly (${e.toFixed(1)}% trend)`:s>5?`Shooting ${a} moderately`:"Shooting consistency maintained":t==="impact"?s>5?`Overall impact ${a} significantly`:s>2?`Overall impact ${a} moderately`:"Impact level consistent":`${t} trend: ${a}`}generateComparisons(t,e="high_school"){const a=this.getBenchmarks(t,e),s=this.calculateAverages(),n={};return Object.keys(a).forEach(r=>{const c=s[r]||0,o=a[r],i=this.calculatePercentile(c,o);n[r]={player:c,benchmark:o.average,percentile:i,status:i>=75?"excellent":i>=50?"above_average":i>=25?"below_average":"needs_improvement"}}),n}getBenchmarks(t,e){const a={high_school:{point_guard:{points:{average:12.5,std:5.2},assists:{average:4.8,std:2.1},rebounds:{average:3.2,std:1.5},steals:{average:1.8,std:.9},turnovers:{average:2.5,std:1.2}}}};return a[e]?.[t]||a.high_school.point_guard}calculatePercentile(t,e){const a=(t-e.average)/e.std;return Math.max(0,Math.min(100,50+a*15))}calculateAverages(){if(this.performanceData.length===0)return{};const t=this.performanceData.reduce((a,s)=>(Object.keys(s.stats).forEach(n=>{a[n]=(a[n]||0)+(s.stats[n]||0)}),a),{}),e={};return Object.keys(t).forEach(a=>{e[a]=t[a]/this.performanceData.length}),e}getRecommendations(){const t=this.performanceData.slice(-5),e=[];if(t.length===0)return e;const a=t.reduce((n,r)=>n+(r.stats.turnovers||0),0)/t.length,s=t.reduce((n,r)=>{const c=r.stats.fga||0;return n+(c>0?r.stats.fgm/c*100:0)},0)/t.length;return a>3&&e.push({area:"Ball Security",priority:"high",issue:"Above average turnovers in recent games",drills:["Two-ball dribbling","Pressure passing","Decision-making scenarios"],goal:"Reduce turnovers to under 2.5 per game"}),s<40&&e.push({area:"Shooting Efficiency",priority:"medium",issue:"Shooting percentage below optimal range",drills:["Form shooting","Catch and shoot","Shot selection training"],goal:"Increase field goal percentage to 45%+"}),e}}typeof window<"u"&&(window.PlayerAnalytics=g);export{g as PlayerAnalytics};
//# sourceMappingURL=playerAnalytics-BQgY2Ufz-CHvk6QGw-C3HtcQ7W-CHvk6QGw-C3HtcQ7W-CHvk6QGw-C3HtcQ7W-CHvk6QGw-C3HtcQ7W-CHvk6QGw-C3HtcQ7W-CHvk6QGw-C3HtcQ7W-CHvk6QGw.js.map
