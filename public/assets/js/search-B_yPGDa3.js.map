{"version":3,"file":"search-B_yPGDa3.js","sources":["../../../public/assets/js/search-C6i84px7.js"],"sourcesContent":["import './modulepreload-polyfill-B5Qt9EMX-ulV_1b7r-BGxEsOWE.js';\nimport './modulepreload-polyfill-B5Qt9EMX-ulV_1b7r-BGxEsOWE-Bt-Pzaey-Bt-Pzaey-Bt-Pzaey-Bt-Pzaey-Bt-Pzaey-Bt-Pzaey-Bt-Pzaey-Bt-Pzaey-CYcforwy-CYcforwy-CYcforwy.js';\nimport './modulepreload-polyfill-B5Qt9EMX-ulV_1b7r-C2dq2EgV-C2dq2EgV-C2dq2EgV-C2dq2EgV-C2dq2EgV-C2dq2EgV-C2dq2EgV-C2dq2EgV-C2dq2EgV-C2dq2EgV-C2dq2EgV-C2dq2EgV-C2dq2EgV-C2dq2EgV.js';\nimport './firebaseConfig-DCH0t8Yd-CLd0mPF9-BmnogoZy-Cf6bMmA_-B8D1IVXI-Cf6bMmA_-B8D1IVXI-Cf6bMmA_-B8D1IVXI-Cf6bMmA_-B8D1IVXI-Cf6bMmA_-B8D1IVXI-Cf6bMmA_-B8D1IVXI-Cf6bMmA_.js';\n/* empty css                                */ class l {\n  constructor() {\n    ((this.searchIndex = new Map()), (this.filters = {}), this.init());\n  }\n  init() {\n    (this.setupSearchUI(), this.buildSearchIndex(), this.setupFilters());\n  }\n  setupSearchUI() {\n    const e = document.getElementById('searchContainer');\n    e &&\n      ((e.innerHTML = `\n      <div class=\"advanced-search\">\n        <div class=\"search-bar\">\n          <input type=\"text\" id=\"searchInput\" placeholder=\"Search players, teams, coaches...\" class=\"search-input\">\n          <button onclick=\"searchEngine.performSearch()\" class=\"search-btn\">\n            <i class=\"icon-search\"></i>\n          </button>\n        </div>\n        \n        <div class=\"search-filters\">\n          <div class=\"filter-group\">\n            <label>Role:</label>\n            <select id=\"roleFilter\">\n              <option value=\"\">All</option>\n              <option value=\"player\">Players</option>\n              <option value=\"coach\">Coaches</option>\n              <option value=\"scout\">Scouts</option>\n            </select>\n          </div>\n          \n          <div class=\"filter-group\">\n            <label>Location:</label>\n            <input type=\"text\" id=\"locationFilter\" placeholder=\"City, State\">\n          </div>\n          \n          <div class=\"filter-group\">\n            <label>Position:</label>\n            <select id=\"positionFilter\">\n              <option value=\"\">All Positions</option>\n              <option value=\"PG\">Point Guard</option>\n              <option value=\"SG\">Shooting Guard</option>\n              <option value=\"SF\">Small Forward</option>\n              <option value=\"PF\">Power Forward</option>\n              <option value=\"C\">Center</option>\n            </select>\n          </div>\n          \n          <div class=\"filter-group\">\n            <label>Skill Level:</label>\n            <select id=\"skillFilter\">\n              <option value=\"\">All Levels</option>\n              <option value=\"beginner\">Beginner</option>\n              <option value=\"intermediate\">Intermediate</option>\n              <option value=\"advanced\">Advanced</option>\n              <option value=\"elite\">Elite</option>\n            </select>\n          </div>\n        </div>\n        \n        <div class=\"search-results\" id=\"searchResults\"></div>\n      </div>\n    `),\n      document\n        .getElementById('searchInput')\n        .addEventListener(\n          'input',\n          this.debounce(this.performSearch.bind(this), 300)\n        ),\n      document\n        .getElementById('roleFilter')\n        .addEventListener('change', this.performSearch.bind(this)),\n      document\n        .getElementById('locationFilter')\n        .addEventListener(\n          'input',\n          this.debounce(this.performSearch.bind(this), 300)\n        ),\n      document\n        .getElementById('positionFilter')\n        .addEventListener('change', this.performSearch.bind(this)),\n      document\n        .getElementById('skillFilter')\n        .addEventListener('change', this.performSearch.bind(this)));\n  }\n  async buildSearchIndex() {\n    try {\n      const e = ['players', 'coaches', 'scouts', 'teams'];\n      for (const t of e)\n        (await this.db.collection(t).get()).forEach(i => {\n          const o = { id: i.id, ...i.data(), collection: t };\n          this.indexDocument(o);\n        });\n      console.log('Search index built successfully');\n    } catch (e) {\n      console.error('Error building search index:', e);\n    }\n  }\n  indexDocument(e) {\n    const t = ['name', 'position', 'school', 'city', 'state', 'skills'],\n      i = [];\n    (t.forEach(o => {\n      e[o] && i.push(...this.tokenize(e[o].toString()));\n    }),\n      i.forEach(o => {\n        (this.searchIndex.has(o) || this.searchIndex.set(o, new Set()),\n          this.searchIndex.get(o).add(e.id));\n      }));\n  }\n  tokenize(e) {\n    return e\n      .toLowerCase()\n      .replace(/[^\\w\\s]/g, '')\n      .split(/\\s+/)\n      .filter(t => t.length > 2);\n  }\n  async performSearch() {\n    const e = document.getElementById('searchInput').value.trim(),\n      t = document.getElementById('roleFilter').value,\n      i = document.getElementById('locationFilter').value.trim(),\n      o = document.getElementById('positionFilter').value,\n      s = document.getElementById('skillFilter').value;\n    let n = [];\n    (e ? (n = this.textSearch(e)) : (n = await this.getAllDocuments()),\n      (n = this.applyFilters(n, {\n        role: t,\n        location: i,\n        position: o,\n        skill: s,\n      })),\n      this.displayResults(n));\n  }\n  textSearch(e) {\n    const t = this.tokenize(e),\n      i = new Set();\n    return (\n      t.forEach(o => {\n        this.searchIndex.has(o) &&\n          this.searchIndex.get(o).forEach(s => {\n            i.add(s);\n          });\n      }),\n      Array.from(i)\n    );\n  }\n  async getAllDocuments() {\n    const e = [],\n      t = ['players', 'coaches', 'scouts'];\n    for (const i of t)\n      (await this.db.collection(i).limit(20).get()).forEach(o => {\n        e.push({ id: o.id, ...o.data(), collection: i });\n      });\n    return e;\n  }\n  applyFilters(e, t) {\n    return e.filter(\n      i =>\n        !(\n          (t.role && i.collection !== t.role + 's') ||\n          (t.location && !this.matchesLocation(i, t.location)) ||\n          (t.position && i.position !== t.position) ||\n          (t.skill && i.skillLevel !== t.skill)\n        )\n    );\n  }\n  matchesLocation(e, t) {\n    return `${e.city || ''} ${e.state || ''}`\n      .toLowerCase()\n      .includes(t.toLowerCase());\n  }\n  displayResults(e) {\n    const t = document.getElementById('searchResults');\n    if (e.length === 0) {\n      t.innerHTML =\n        '<p class=\"no-results\">No results found. Try adjusting your search criteria.</p>';\n      return;\n    }\n    t.innerHTML = `\n      <div class=\"results-header\">\n        <h3>Search Results (${e.length})</h3>\n        <div class=\"sort-options\">\n          <select onchange=\"searchEngine.sortResults(this.value)\">\n            <option value=\"relevance\">Sort by Relevance</option>\n            <option value=\"name\">Sort by Name</option>\n            <option value=\"location\">Sort by Location</option>\n            <option value=\"recent\">Most Recent</option>\n          </select>\n        </div>\n      </div>\n      <div class=\"results-list\">\n        ${e.map(this.renderResultCard).join('')}\n      </div>\n    `;\n  }\n  renderResultCard(e) {\n    const t = { players: 'üèÄ', coaches: 'üëî', scouts: 'üîç', teams: 'üèÜ' };\n    return `\n      <div class=\"result-card\" onclick=\"searchEngine.viewProfile('${e.id}', '${e.collection}')\">\n        <div class=\"result-avatar\">\n          ${t[e.collection] || 'üë§'}\n        </div>\n        <div class=\"result-info\">\n          <h4>${e.name || 'Unnamed'}</h4>\n          <p class=\"result-details\">\n            ${e.position ? `${e.position} ‚Ä¢ ` : ''}\n            ${e.school || e.team || ''}\n            ${e.city && e.state ? ` ‚Ä¢ ${e.city}, ${e.state}` : ''}\n          </p>\n          <div class=\"result-stats\">\n            ${e.rating ? `Rating: ${e.rating}` : ''}\n            ${e.wins && e.losses ? `Record: ${e.wins}-${e.losses}` : ''}\n          </div>\n        </div>\n        <div class=\"result-actions\">\n          <button class=\"btn-primary\">View Profile</button>\n        </div>\n      </div>\n    `;\n  }\n  sortResults(e) {\n    console.log('Sorting results by:', e);\n  }\n  viewProfile(e, t) {\n    window.location.href = `/profile/${t}/${e}`;\n  }\n  debounce(e, t) {\n    let i;\n    return function (...o) {\n      const s = () => {\n        (clearTimeout(i), e(...o));\n      };\n      (clearTimeout(i), (i = setTimeout(s, t)));\n    };\n  }\n}\nconst a = new l();\nwindow.searchEngine = a;\n//# sourceMappingURL=search-C6i84px7.js.map\n"],"names":[],"mappings":"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"}