{"version":3,"file":"search-ylcLBzoU.js","sources":["../../../public/assets/js/search-_QuSzHua.js"],"sourcesContent":["import\"./modulepreload-polyfill-B5Qt9EMX-ulV_1b7r-BGxEsOWE-glEpLKVF-Ch0fsPTR-CXZUdh1a.js\";import\"./modulepreload-polyfill-B5Qt9EMX-ulV_1b7r-BGxEsOWE-Bt-Pzaey-Bt-Pzaey-Bt-Pzaey-Bt-Pzaey-Bt-Pzaey-Bt-Pzaey.js\";import\"./modulepreload-polyfill-B5Qt9EMX-ulV_1b7r-C2dq2EgV-C2dq2EgV-C2dq2EgV-C2dq2EgV-C2dq2EgV-C2dq2EgV-C2dq2EgV-C2dq2EgV-C2dq2EgV.js\";import\"./firebaseConfig-DCH0t8Yd-CLd0mPF9-BmnogoZy-Cf6bMmA_-B8D1IVXI-Cf6bMmA_-B8D1IVXI-Cf6bMmA_-B8D1IVXI-Cf6bMmA_-B8D1IVXI.js\";/* empty css                                                                                                        */class l{constructor(){this.searchIndex=new Map,this.filters={},this.init()}init(){this.setupSearchUI(),this.buildSearchIndex(),this.setupFilters()}setupSearchUI(){const e=document.getElementById(\"searchContainer\");e&&(e.innerHTML=`\n      <div class=\"advanced-search\">\n        <div class=\"search-bar\">\n          <input type=\"text\" id=\"searchInput\" placeholder=\"Search players, teams, coaches...\" class=\"search-input\">\n          <button onclick=\"searchEngine.performSearch()\" class=\"search-btn\">\n            <i class=\"icon-search\"></i>\n          </button>\n        </div>\n        \n        <div class=\"search-filters\">\n          <div class=\"filter-group\">\n            <label>Role:</label>\n            <select id=\"roleFilter\">\n              <option value=\"\">All</option>\n              <option value=\"player\">Players</option>\n              <option value=\"coach\">Coaches</option>\n              <option value=\"scout\">Scouts</option>\n            </select>\n          </div>\n          \n          <div class=\"filter-group\">\n            <label>Location:</label>\n            <input type=\"text\" id=\"locationFilter\" placeholder=\"City, State\">\n          </div>\n          \n          <div class=\"filter-group\">\n            <label>Position:</label>\n            <select id=\"positionFilter\">\n              <option value=\"\">All Positions</option>\n              <option value=\"PG\">Point Guard</option>\n              <option value=\"SG\">Shooting Guard</option>\n              <option value=\"SF\">Small Forward</option>\n              <option value=\"PF\">Power Forward</option>\n              <option value=\"C\">Center</option>\n            </select>\n          </div>\n          \n          <div class=\"filter-group\">\n            <label>Skill Level:</label>\n            <select id=\"skillFilter\">\n              <option value=\"\">All Levels</option>\n              <option value=\"beginner\">Beginner</option>\n              <option value=\"intermediate\">Intermediate</option>\n              <option value=\"advanced\">Advanced</option>\n              <option value=\"elite\">Elite</option>\n            </select>\n          </div>\n        </div>\n        \n        <div class=\"search-results\" id=\"searchResults\"></div>\n      </div>\n    `,document.getElementById(\"searchInput\").addEventListener(\"input\",this.debounce(this.performSearch.bind(this),300)),document.getElementById(\"roleFilter\").addEventListener(\"change\",this.performSearch.bind(this)),document.getElementById(\"locationFilter\").addEventListener(\"input\",this.debounce(this.performSearch.bind(this),300)),document.getElementById(\"positionFilter\").addEventListener(\"change\",this.performSearch.bind(this)),document.getElementById(\"skillFilter\").addEventListener(\"change\",this.performSearch.bind(this)))}async buildSearchIndex(){try{const e=[\"players\",\"coaches\",\"scouts\",\"teams\"];for(const t of e)(await this.db.collection(t).get()).forEach(i=>{const o={id:i.id,...i.data(),collection:t};this.indexDocument(o)});console.log(\"Search index built successfully\")}catch(e){console.error(\"Error building search index:\",e)}}indexDocument(e){const t=[\"name\",\"position\",\"school\",\"city\",\"state\",\"skills\"],i=[];t.forEach(o=>{e[o]&&i.push(...this.tokenize(e[o].toString()))}),i.forEach(o=>{this.searchIndex.has(o)||this.searchIndex.set(o,new Set),this.searchIndex.get(o).add(e.id)})}tokenize(e){return e.toLowerCase().replace(/[^\\w\\s]/g,\"\").split(/\\s+/).filter(t=>t.length>2)}async performSearch(){const e=document.getElementById(\"searchInput\").value.trim(),t=document.getElementById(\"roleFilter\").value,i=document.getElementById(\"locationFilter\").value.trim(),o=document.getElementById(\"positionFilter\").value,s=document.getElementById(\"skillFilter\").value;let n=[];e?n=this.textSearch(e):n=await this.getAllDocuments(),n=this.applyFilters(n,{role:t,location:i,position:o,skill:s}),this.displayResults(n)}textSearch(e){const t=this.tokenize(e),i=new Set;return t.forEach(o=>{this.searchIndex.has(o)&&this.searchIndex.get(o).forEach(s=>{i.add(s)})}),Array.from(i)}async getAllDocuments(){const e=[],t=[\"players\",\"coaches\",\"scouts\"];for(const i of t)(await this.db.collection(i).limit(20).get()).forEach(o=>{e.push({id:o.id,...o.data(),collection:i})});return e}applyFilters(e,t){return e.filter(i=>!(t.role&&i.collection!==t.role+\"s\"||t.location&&!this.matchesLocation(i,t.location)||t.position&&i.position!==t.position||t.skill&&i.skillLevel!==t.skill))}matchesLocation(e,t){return`${e.city||\"\"} ${e.state||\"\"}`.toLowerCase().includes(t.toLowerCase())}displayResults(e){const t=document.getElementById(\"searchResults\");if(e.length===0){t.innerHTML='<p class=\"no-results\">No results found. Try adjusting your search criteria.</p>';return}t.innerHTML=`\n      <div class=\"results-header\">\n        <h3>Search Results (${e.length})</h3>\n        <div class=\"sort-options\">\n          <select onchange=\"searchEngine.sortResults(this.value)\">\n            <option value=\"relevance\">Sort by Relevance</option>\n            <option value=\"name\">Sort by Name</option>\n            <option value=\"location\">Sort by Location</option>\n            <option value=\"recent\">Most Recent</option>\n          </select>\n        </div>\n      </div>\n      <div class=\"results-list\">\n        ${e.map(this.renderResultCard).join(\"\")}\n      </div>\n    `}renderResultCard(e){const t={players:\"üèÄ\",coaches:\"üëî\",scouts:\"üîç\",teams:\"üèÜ\"};return`\n      <div class=\"result-card\" onclick=\"searchEngine.viewProfile('${e.id}', '${e.collection}')\">\n        <div class=\"result-avatar\">\n          ${t[e.collection]||\"üë§\"}\n        </div>\n        <div class=\"result-info\">\n          <h4>${e.name||\"Unnamed\"}</h4>\n          <p class=\"result-details\">\n            ${e.position?`${e.position} ‚Ä¢ `:\"\"}\n            ${e.school||e.team||\"\"}\n            ${e.city&&e.state?` ‚Ä¢ ${e.city}, ${e.state}`:\"\"}\n          </p>\n          <div class=\"result-stats\">\n            ${e.rating?`Rating: ${e.rating}`:\"\"}\n            ${e.wins&&e.losses?`Record: ${e.wins}-${e.losses}`:\"\"}\n          </div>\n        </div>\n        <div class=\"result-actions\">\n          <button class=\"btn-primary\">View Profile</button>\n        </div>\n      </div>\n    `}sortResults(e){console.log(\"Sorting results by:\",e)}viewProfile(e,t){window.location.href=`/profile/${t}/${e}`}debounce(e,t){let i;return function(...o){const s=()=>{clearTimeout(i),e(...o)};clearTimeout(i),i=setTimeout(s,t)}}}const a=new l;window.searchEngine=a;\n//# sourceMappingURL=search-_QuSzHua.js.map\n"],"names":[],"mappings":"wnBAA2kB,MAAM,CAAC,CAAC,aAAa,CAAC,KAAK,YAAY,IAAI,IAAI,KAAK,QAAQ,CAAA,EAAG,KAAK,KAAI,CAAE,CAAC,MAAM,CAAC,KAAK,cAAa,EAAG,KAAK,iBAAgB,EAAG,KAAK,aAAY,CAAE,CAAC,eAAe,CAAC,MAAM,EAAE,SAAS,eAAe,iBAAiB,EAAE,IAAI,EAAE,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAmD3yB,SAAS,eAAe,aAAa,EAAE,iBAAiB,QAAQ,KAAK,SAAS,KAAK,cAAc,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,SAAS,eAAe,YAAY,EAAE,iBAAiB,SAAS,KAAK,cAAc,KAAK,IAAI,CAAC,EAAE,SAAS,eAAe,gBAAgB,EAAE,iBAAiB,QAAQ,KAAK,SAAS,KAAK,cAAc,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,SAAS,eAAe,gBAAgB,EAAE,iBAAiB,SAAS,KAAK,cAAc,KAAK,IAAI,CAAC,EAAE,SAAS,eAAe,aAAa,EAAE,iBAAiB,SAAS,KAAK,cAAc,KAAK,IAAI,CAAC,EAAE,CAAC,MAAM,kBAAkB,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,UAAU,UAAU,SAAS,OAAO,EAAE,UAAU,KAAK,GAAG,MAAM,KAAK,GAAG,WAAW,CAAC,EAAE,IAAG,GAAI,QAAQ,GAAG,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,GAAG,GAAG,EAAE,KAAI,EAAG,WAAW,CAAC,EAAE,KAAK,cAAc,CAAC,CAAC,CAAC,EAAE,QAAQ,IAAI,iCAAiC,CAAC,OAAO,EAAE,CAAC,QAAQ,MAAM,+BAA+B,CAAC,CAAC,CAAC,CAAC,cAAc,EAAE,CAAC,MAAM,EAAE,CAAC,OAAO,WAAW,SAAS,OAAO,QAAQ,QAAQ,EAAE,EAAE,CAAA,EAAG,EAAE,QAAQ,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,KAAK,GAAG,KAAK,SAAS,EAAE,CAAC,EAAE,SAAQ,CAAE,CAAC,CAAC,CAAC,EAAE,EAAE,QAAQ,GAAG,CAAC,KAAK,YAAY,IAAI,CAAC,GAAG,KAAK,YAAY,IAAI,EAAE,IAAI,GAAG,EAAE,KAAK,YAAY,IAAI,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,OAAO,EAAE,YAAW,EAAG,QAAQ,WAAW,EAAE,EAAE,MAAM,KAAK,EAAE,OAAO,GAAG,EAAE,OAAO,CAAC,CAAC,CAAC,MAAM,eAAe,CAAC,MAAM,EAAE,SAAS,eAAe,aAAa,EAAE,MAAM,KAAI,EAAG,EAAE,SAAS,eAAe,YAAY,EAAE,MAAM,EAAE,SAAS,eAAe,gBAAgB,EAAE,MAAM,KAAI,EAAG,EAAE,SAAS,eAAe,gBAAgB,EAAE,MAAM,EAAE,SAAS,eAAe,aAAa,EAAE,MAAM,IAAI,EAAE,CAAA,EAAG,EAAE,EAAE,KAAK,WAAW,CAAC,EAAE,EAAE,MAAM,KAAK,kBAAkB,EAAE,KAAK,aAAa,EAAE,CAAC,KAAK,EAAE,SAAS,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC,EAAE,KAAK,eAAe,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,MAAM,EAAE,KAAK,SAAS,CAAC,EAAE,EAAE,IAAI,IAAI,OAAO,EAAE,QAAQ,GAAG,CAAC,KAAK,YAAY,IAAI,CAAC,GAAG,KAAK,YAAY,IAAI,CAAC,EAAE,QAAQ,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,MAAM,KAAK,CAAC,CAAC,CAAC,MAAM,iBAAiB,CAAC,MAAM,EAAE,CAAA,EAAG,EAAE,CAAC,UAAU,UAAU,QAAQ,EAAE,UAAU,KAAK,GAAG,MAAM,KAAK,GAAG,WAAW,CAAC,EAAE,MAAM,EAAE,EAAE,IAAG,GAAI,QAAQ,GAAG,CAAC,EAAE,KAAK,CAAC,GAAG,EAAE,GAAG,GAAG,EAAE,OAAO,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,aAAa,EAAE,EAAE,CAAC,OAAO,EAAE,OAAO,GAAG,EAAE,EAAE,MAAM,EAAE,aAAa,EAAE,KAAK,KAAK,EAAE,UAAU,CAAC,KAAK,gBAAgB,EAAE,EAAE,QAAQ,GAAG,EAAE,UAAU,EAAE,WAAW,EAAE,UAAU,EAAE,OAAO,EAAE,aAAa,EAAE,MAAM,CAAC,CAAC,gBAAgB,EAAE,EAAE,CAAC,MAAM,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,cAAc,SAAS,EAAE,YAAW,CAAE,CAAC,CAAC,eAAe,EAAE,CAAC,MAAM,EAAE,SAAS,eAAe,eAAe,EAAE,GAAG,EAAE,SAAS,EAAE,CAAC,EAAE,UAAU,kFAAkF,MAAM,CAAC,EAAE,UAAU;AAAA;AAAA,8BAEh4E,EAAE,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAW5B,EAAE,IAAI,KAAK,gBAAgB,EAAE,KAAK,EAAE,CAAC;AAAA;AAAA,KAE1C,CAAC,iBAAiB,EAAE,CAAC,MAAM,EAAE,CAAC,QAAQ,KAAK,QAAQ,KAAK,OAAO,KAAK,MAAM,IAAI,EAAE,MAAM;AAAA,oEACvB,EAAE,EAAE,OAAO,EAAE,UAAU;AAAA;AAAA,YAE/E,EAAE,EAAE,UAAU,GAAG,IAAI;AAAA;AAAA;AAAA,gBAGjB,EAAE,MAAM,SAAS;AAAA;AAAA,cAEnB,EAAE,SAAS,GAAG,EAAE,QAAQ,MAAM,EAAE;AAAA,cAChC,EAAE,QAAQ,EAAE,MAAM,EAAE;AAAA,cACpB,EAAE,MAAM,EAAE,MAAM,MAAM,EAAE,IAAI,KAAK,EAAE,KAAK,GAAG,EAAE;AAAA;AAAA;AAAA,cAG7C,EAAE,OAAO,WAAW,EAAE,MAAM,GAAG,EAAE;AAAA,cACjC,EAAE,MAAM,EAAE,OAAO,WAAW,EAAE,IAAI,IAAI,EAAE,MAAM,GAAG,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAO5D,CAAC,YAAY,EAAE,CAAC,QAAQ,IAAI,sBAAsB,CAAC,CAAC,CAAC,YAAY,EAAE,EAAE,CAAC,OAAO,SAAS,KAAK,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,IAAI,EAAE,OAAO,YAAY,EAAE,CAAC,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,aAAa,CAAC,EAAE,EAAE,WAAW,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,IAAI,EAAE,OAAO,aAAa"}