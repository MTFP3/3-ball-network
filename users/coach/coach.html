<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Coach Dashboard</title>
  <link rel="stylesheet" href="../../styles/dashboard.css">
  <style>
    .player-list-item:hover { background: #f0f8ff; }
    .film-thumb { margin: 1em 0; }
    .announcement { border-bottom: 1px solid #eee; margin-bottom: 1em; padding-bottom: 0.5em; }
  </style>
</head>
<body>
  <nav style="background:#007cba;color:#fff;padding:1em 2em;">
    <span style="font-weight:bold;">Coach Portal</span>
    <button onclick="window.logout()" style="float:right;">Logout</button>
  </nav>
  <h1>Coach Dashboard</h1>
  <div id="coach-content"></div>

  <!-- Team Players Section -->
  <section>
    <h2>Your Team Players</h2>
    <input type="text" id="player-search" placeholder="Search players..." style="margin-bottom:1em;">
    <div id="team-players-list">
      <p>Loading players...</p>
    </div>
  </section>

  <!-- Player Profile Modal -->
  <div id="player-profile-modal" style="display:none; position:fixed; top:10%; left:50%; transform:translateX(-50%); background:#fff; border:1px solid #ccc; border-radius:8px; padding:2em; z-index:1000; min-width:300px;">
    <button onclick="closePlayerProfile()" style="float:right;">Close</button>
    <div id="player-profile-content"></div>
  </div>

  <!-- Upload Game Film Section -->
  <section>
    <h2>Upload Game Film</h2>
    <form id="game-film-upload-form">
      <label>
        MP4 File:
        <input type="file" id="game-film-file" accept="video/mp4,video/x-mp4">
      </label>
      <br>
      <label>
        Or YouTube/Hudl Link:
        <input type="url" id="game-film-link" placeholder="https://youtube.com/... or https://hudl.com/...">
      </label>
      <br>
      <button type="submit">Upload</button>
      <div id="game-film-upload-message"></div>
    </form>
  </section>

  <!-- Game Film Library -->
  <section>
    <h2>Game Film Library</h2>
    <div id="game-film-library">
      <p>Loading game films...</p>
    </div>
  </section>

  <!-- Team Grading Summary Section -->
  <section>
    <h2>Team Grading Summary</h2>
    <div id="team-grading-summary">
      <p>Loading summary...</p>
    </div>
  </section>

  <!-- Team Announcements -->
  <section>
    <h2>Team Announcements</h2>
    <form id="announcement-form">
      <textarea id="announcement-text" rows="2" style="width:100%;" placeholder="Write an announcement..."></textarea>
      <br>
      <button type="submit">Post Announcement</button>
      <div id="announcement-message"></div>
    </form>
    <div id="announcements-list"></div>
  </section>

  <script type="module" src="/shared/firebase.js"></script>
  <script src="coach.js"></script>
</body>
</html>